@model KidChores2.Models.EditRoomViewModel
@{
    ViewBag.Title = "EditRoom";
}

<h2>EditRoom</h2>

<form action="/home/EditRoom/@Model.Room.Id" method="post">
    <input type="text" name="RoomName" value="@Model.RoomName" /><br />
    <label>Kid to Assign: </label>
    <select name="KidId">
        @foreach (var kid in Model.Kids)
        {
            if (kid.Id == @Model.KidId)
            {
                <option selected value="@kid.Id">@kid.FirstName @kid.LastName</option>
            }
            else
            {
                <option value="@kid.Id">@kid.FirstName @kid.LastName</option>
            }
        }
    </select> <br />
    <label>Current Kids: </label>
    <ul>
        @foreach (var kid in @Model.KidRooms)
        {
            <li>@kid.Kid.FirstName @kid.Kid.LastName| @Html.ActionLink("Edit", "EditKid", new { id = kid.Kid.Id }) | <a href="~/home/DeleteKid/@kid.Kid.Id" onclick="return confirm('Are you sure you want to delete @kid.Kid.FirstName @kid.Kid.LastName ?')">>Delete</a> </li>
        }
    </ul>
    <input type="submit" name="Submit" value="Save Changes" />
</form>
<div>
    @Html.ActionLink("Back to Index", "Index")
</div>

<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">Modal title</h4>
            </div>
            <div class="modal-body">


                <form action="/home/EditRoom/@Model.Room.Id" method="post">
                    <input type="text" name="RoomName" value="@Model.RoomName" /><br />
                    <label>Kid to Assign: </label>
                    <select name="KidId">
                        @foreach (var kid in Model.Kids)
                        {
                            if (kid.Id == @Model.KidId)
                            {
                                <option selected value="@kid.Id">@kid.FirstName @kid.LastName</option>
                            }
                            else
                            {
                                <option value="@kid.Id">@kid.FirstName @kid.LastName</option>
                            }
                        }
                    </select> <br />
                    <label>Current Kids: </label>
                    <ul>
                        @foreach (var kid in @Model.KidRooms)
                        {
                            <li>@kid.Kid.FirstName @kid.Kid.LastName| @Html.ActionLink("Edit", "EditKid", new { id = kid.Kid.Id }) | <a href="~/home/DeleteKid/@kid.Kid.Id" onclick="return confirm('Are you sure you want to delete @kid.Kid.FirstName @kid.Kid.LastName ?')">>Delete</a> </li>
                        }
                    </ul>
                    <input type="submit" name="Submit" value="Save Changes" />
                </form>


            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
            </div>
        </div>
    </div>
</div>
@section scripts
{
<script src="~/Scripts/_kidchoreScripts.js"></script>
}


@RenderSection("scripts", required: false)
